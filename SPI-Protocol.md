# General documentation of the WING SPI-Protocol

## WING Startup-procedure
After startup three blocks of packages are transmitted:

### BLOCK 1: 2x 64 bit (onyl CARD -> WING)
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | 
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 
	CARD	2a 31 65 2a e4 00 00 00 | 00 2a 32 65 2a e4 00 00 | 
		*  1  e  *  nA ~  ~  ~  | ~  *  2  e  *  nA ~  ~  |

### BLOCK 2 after 195ms: 7x 64 bit (WING <-> CARD)
		*  H  *  nA @  !  nA nA | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | 
	WING	2a 48 2a 80 40 21 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 
	CARD	00 00 00 00 00 00 00 00 | 2a 68 57 49 4e 47 2d 4c | 49 56 45 3a 41 3a 30 33 | 38 2d 30 2d 67 35 32 62 | 63 36 36 63 37 3a 34 45 | 44 43 35 35 33 34 2a b4 | 00 00 00 00 00 00 00 00 | 
		~  ~  ~  ~  ~  ~  ~  ~  | *  h  W  I  N  G  -  L  | I  V  E  :  A  :  0  3  | 8  -  0  -  g  5  2  b  | c  6  6  c  7  :  4  E  | D  C  5  5  3  4  *  nA | ~  ~  ~  ~  ~  ~  ~  ~  | 

### BLOCK 3 after 2177ms: 4x 64 bit (CARD -> WING)
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | 
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	2a 42 45 2a c4 00 00 00 | 00 2a 31 65 2a e4 00 00 | 00 00 2a 32 65 2a e4 00 | 00 00 00 00 00 00 00 00 |
		*  B  E  *  nA ~  ~  ~  | ~  *  1  e  *  nA ~  ~  | ~  ~  *  2  e  *  nA ~  | ~  ~  ~  ~  ~  ~  ~  ~  | 

## Card #1 inserted with 32 GB Card:
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  |
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	00 00 2a 31 65 2a e4 00 | 00 00 00 00 00 00 00 00 | 2a 31 53 30 00 00 00 00 | 5e db 04 00 2a ca 00 00 |
		~  ~  *  1  e  *  nA ~  | ~  ~  ~  ~  ~  ~  ~  ~  | *  1  S  0  ~  ~  ~  ~  | nA nA nA ~  *  nA ~  ~  |

## Card #1 inserted with 64 GB Card (unsupported):
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  |
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	00 00 2a 31 53 34 00 00 | 00 00 00 00 00 00 2a 8d | 00 00 00 00 00 00 00 00 |
		~  ~  *  1  S  4  ~  ~  | ~  ~  ~  ~  ~  ~  *  nA | ~  ~  ~  ~  ~  ~  ~  ~  |

## Card #1 ejected
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  |
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	00 00 2a 31 65 2a e4 00 | 00 00 00 00 00 2a 31 6d | 2a ec 00 00 00 00 00 00 | 2a 31 53 31 00 00 00 00 | 00 00 00 00 2a 8e 00 00 |
		~  ~  *  1  5  *  nA ~  | ~  ~  ~  ~  ~  *  1  m  | *  nA ~  ~  ~  ~  ~  ~  | *  1  S  1  ~  ~  ~  ~  | ~  ~  ~  ~  *  nA ~  ~  |

## Card #2 inserted:
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  |
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	2a 32 53 34 00 00 00 00 | 00 00 00 00 2a 8d 00 00 |
		*  2  S  4  ~  ~  ~  ~  | ~  ~  ~  ~  *  nA ~  ~  |

## Card #2 ejected
		~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  | ~  ~  ~  ~  ~  ~  ~  ~  |
	WING	00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 |
	CARD	2a 32 65 2a e4 00 00 00 | 00 2a 32 6d 2a ec 00 00 | 00 00 2a 32 53 31 00 00 | 00 00 00 00 00 00 2a 8e | 00 00 00 00 00 00 00 00 |
		*  2  5  *  nA ~  ~  ~  | ~  *  2  m  *  nA ~  ~  | ~  ~  *  2  S  1  ~  ~  | ~  ~  ~  ~  ~  ~  *  nA | ~  ~  ~  ~  ~  ~  ~  ~  |

## Set Record for Card #1 to 32 channel
	WING: 2a 31 53 2a d2 20 d8 00
	CARD: 00 00 00 00 00 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 2a 31 65 2a e4 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 2a 31 53 34 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 2a 8d 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 00 00 2a
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 31 73 30 00 00 00 00 2a
	
	WING: 00 00 00 00 00 00 00 00
	CARD: a5 00 00 00 00 00 00 00

## Set Record for Card #1 to 16 channel
	WING: 2a 31 53 2a d2 20 d8 00
	CARD: 00 00 00 00 00 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 2a 31 65 2a e4 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 2a 31 53 34 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 2a 8d 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 00 2a 31
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 73 30 00 00 00 00 2a a5
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 00 00 00

## Set Record for Card #1 to 8 channel
	WING: 2a 31 53 2a d2 b4 c7 00
	CARD: 00 00 00 00 00 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 2a 31 65 2a e4 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 2a 31 53 34 00 00 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 2a 8d 00
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 00 2a 31
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 73 30 00 00 00 00 2a a5
	
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 00 00 00 00 00 00 00

## Regularly sent command by Card:
	WING: 00 00 00 00 00 00 00 00
	CARD: 00 2a 42 45 2a c4 00 00
		~  *  B  E  *  nA ~  ~	<- *BE*	<- same as for X-LIVE

	sometimes it sends like this:
	
	WING: 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00
	CARD: 00 00 2a 42 45 2a c4 00 | 00 00 00 00 00 00 00 00

So it seems, that a command has to close with at least two 00 00.

## Format Card #1:
	WING: 2a 31 51 7e 2a cd 01 00
	CARD: 00 00 00 00 00 00 00 00

## Record Card #1:
	            ___________
	WING: 2a 31 48 49 90 4e 5a 20 00 2a ee 00 00	<- 4 byte session-name (?)
	CARD: 00 00 00 00 00 00 00 00 00 00 00 00 00
	
	or
	            ___________
	WING: 2a 31 48 c2 90 4e 5a 20 00 2a e5 00 00	<- 4 byte session-name (?)
	CARD: 00 00 00 00 00 00 00 00 00 00 00 00 00

## Command during Recording Card #1:
	WING: 00 00 00 00 00 00 00 00 | 00 00 00 00 00 00 00 00 | 
	CARD: 00 00 2a 31 73 31 90 f7 | 08 00 2a b5 00 00 00 00 |

## Play Card #1:
	WING: 2a 31 44 00 00 00 00 00 00 00 00 00 2a ce 40 df
	CARD: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00

## Select Session "2025-02-14 18:04:42" Card #1:
				___________
	WING: 2a 31 4f 95 90 4e 5a 2a 99 21 b8	<- 4 byte session-name (?)
	CARD: 00 00 00 00 00 00 00 00 00 00 00

## Set time-index of Session "2025-02-14 18:04:42" Card #1:
			___________
	WING: 2a 31 4d 40 64 01 00 2a f7 21 c8	<- 4 byte time-index (?)
	CARD: 00 00 00 00 00 00 00 00 00 00 00
	
			___________
	WING: 2a 31 4d 40 eb 01 00 2a fc 21 c8	<- 4 byte time-index (?) TimeIndex: 0:02:62
	CARD: 00 00 00 00 00 00 00 00 00 00 00
	
			___________    xx		<- xx = kind of a checksum???
	WING: 2a 31 4d 80 6e 02 00 2a b8 21 c8	<- 4 byte time-index (?) TimeIndex: 0:03:32
	CARD: 00 00 00 00 00 00 00 00 00 00 00

